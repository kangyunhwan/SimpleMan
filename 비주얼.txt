const visuals=[
    {index:0,title:'비주얼1',text:'비주얼1 텍스트'},
    {index:1,title:'비주얼2',text:'비주얼2 텍스트'},
    {index:2,title:'비주얼3',text:'비주얼3 텍스트'}
  ]

  const visualWrap=useRef()
  const visualLi=useRef([])
  const nextBtn=useRef()
  const prevBtn=useRef()

  const [currentIndex,setCurrentIndex] = useState(0)
  const [nextIndex,setNextIndex] = useState(0)
  const [visualLength,setVisualLength] = useState(null)
  const [visualWidth,setVisualWidth] = useState(null)
  const [isLeft,setIsLeft]=useState(null)
  const [isRight,setIsRight]=useState(null)

  useEffect(()=>{
    setVisualLength(visualLi.current.length)
    setVisualWidth(visualWrap.current.offsetWidth)
  }, [])

  useEffect(()=>{
    gsap.set(visualLi.current,{left:visualWidth})
    gsap.set(visualLi.current[0], {left:0})
  },[visualWidth])

  useEffect(()=>{
    if(isLeft===false && isRight===true){
      gsap.to(visualLi.current[currentIndex], {left:-visualWidth})
      gsap.set(visualLi.current[nextIndex], {left:visualWidth})
      gsap.to(visualLi.current[nextIndex], {left:0})
    }else if(isLeft===true && isRight===false){
      gsap.to(visualLi.current[currentIndex], {left:visualWidth})
      gsap.set(visualLi.current[nextIndex], {left:-visualWidth})
      gsap.to(visualLi.current[nextIndex], {left:0})
    }
    setCurrentIndex(nextIndex)
  },[nextIndex])





<button id={styles.next_btn} ref={nextBtn} onClick={()=>{
          setIsLeft(false)
          setIsRight(true)
          setNextIndex((prev)=>{
            prev+=1
            if(prev>=visualLength){
              prev=0
              return prev
            }else{
              return prev
            }
            
          })
        }}>다음</button>
        <button id={styles.prev_btn} ref={prevBtn} onClick={()=>{
          setIsLeft(true)
          setIsRight(false)
          setNextIndex((prev)=>{
            prev-=1;
            if(prev<0){
              prev=visualLength-1;
              return prev
            }else{
              return prev
            }
          })
        }}>이전</button>